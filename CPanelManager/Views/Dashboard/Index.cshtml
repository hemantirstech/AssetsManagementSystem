@model CPanelManager.ViewModels.Dashboard.DashboardAdminViewModel
@{
    ViewData["Title"] = "Dashboard";
}

<!-- MAIN CONTENT -->
<div id="content">


    <form asp-action="DeleteGenCodeType" id="GenCodeType-form" novalidate="novalidate" method="post" enctype="multipart/form-data">
        <div class="row">
            <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
                <h1 class="page-title txt-color-blueDark">
                    <i class="fa fa-edit fa-fw "></i>
                    Dashboard
                    <span>
                        
                    </span>
                </h1>
            </div>
            <div class="col-xs-12 col-sm-5 col-md-5 col-lg-8" style="text-align:right;padding-top:10px;">
                
            </div>
        </div>



        <!-- widget grid -->
        <section id="widget-grid" class="">

            <!-- row -->
            <div class="row">

                <!-- NEW Current Time WIDGET START -->
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget jarviswidget-color-blueDark">

                        <!-- widget div  style="background-image: -moz-linear-gradient(top,#e6e8ea 0,#b3afaf 100%)!important;"-->
                        <div style="border-top:solid;border-style:solid;border-width:1px;">

                            <table class="table table-striped table-bordered">
                                <tbody>
                                    <tr>
                                        <td colspan="3" style="background-color:#c7e4ef;"> <h2> Welcome to KR Assets Manager  V1.0 </h2></td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-6 col-sm-6 col-md-6 col-lg-6" style="color:darkblue;font-size: 10px;">
                                            <b>
                                                <span class="colored-text"> KR Assets Manager </span> Asset management is a systematic process of developing, operating, maintaining, upgrading, and disposing of assets in the most cost-effective manner (including all costs, risks and performance attributes).
                                                <br /><br />
                                                KR Assets Manager is a set of business practices that incorporates IT assets across the business units within the organization. It joins the financial, inventory, contractual and risk management responsibilities to manage the overall life cycle of these assets including tactical and strategic decision making.
                                            </b>
                                        </td>
                                        <td class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                                            <div class="smart-form" novalidate="novalidate">
                                                <table class="table table-striped table-bordered" onload="startTime()">
                                                    <tbody>
                                                        <tr>
                                                            <td style="background-color:lightblue;">
                                                                <div style="font-size: 16px;font-weight:200;">
                                                                    <h5>
                                                                        @Model.CurrentDateTime.DayOfWeek.ToString(), @Model.CurrentDateTime.ToString("MMM dd, yyyy")
                                                                    </h5>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td> <div id="ClockDiv" style="font-size: 40px;font-weight:300;"></div></td>
                                                        </tr>
                                                        <tr>
                                                            <td style="color:crimson;font-size: 10px;"> <b>LastSucessfullLogin @Model.LastSuccessfullLogin </b></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </td>
                                        <td class="col-xs-3 col-sm-3 col-md-3 col-lg-3" class="well">
                                            <b>
                                                <a href="~/MasterEmployee/AddMasterEmployee" class="btn btn-lg col-xs-12" style="background-color:lightblue;" title="Employee Master"><i class="fa fa-user"></i><span class=""> Create Employee</span></a>
                                            </b>
                                            <b>
                                                <a href="~/MasterVendor/AddMasterVendor" class="btn btn-lg col-xs-12" style="        background-color: #d1edaf;" title="Vendors Master"><i class="fa fa-users"></i><span class=""> Create Vendors</span></a>
                                            </b>
                                            <b>
                                                <a href="~/MasterAssetsAssignment/Index" class="btn btn-lg col-xs-12" style="        background-color: #fff1a6;" title="Assign Assets"><i class="fa fa-newspaper-o"></i><span class=""> Assign Assets</span></a>
                                            </b>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                        </div>
                        <!-- end widget div -->
                    </div>
                    <!-- end widget -->

                </article>
                <!-- WIDGET END -->

            </div>
            <!-- end row -->
            <!-- row -->
            <div class="row">
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget jarviswidget-color-blueDark">
                        <!-- widget div  style="background-image: -moz-linear-gradient(top,#e6e8ea 0,#b3afaf 100%)!important;"-->
                        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                            <table id="TableRequest" class="table table-striped table-bordered">
                                <tbody>
                                    <tr>
                                        <td style="background-color:#c7e4ef;" colspan="2"> <h5><i class="fa fa-flask"></i> Assets Detail </h5></td>
                                    </tr>
                                    <tr>
                                        <td style="width:75%;">

                                            <table style="width:100%;">
                                                <tr>
                                                    <td style="width:33%;padding:10px;">
                                                        <h3>Total <small>Assets</small></h3>
                                                        <div class="" style="background-color:lightblue;border-radius:3px;padding:20px;position: relative;">

                                                            <i class="fa fa-shopping-cart" style="font-size:100px;color: #fff;opacity:0.4;position: absolute; top: 10px;left: -20px;"></i>

                                                            <table style="text-align:center;width:100%;">
                                                                <tr>
                                                                    <td>Total</td>
                                                                    <td>Assign</td>
                                                                </tr>
                                                                <tr>
                                                                    <td><h6>@Model.TotalAssetsInStock</h6></td>
                                                                    <td><h6>@Model.AssetsAssign</h6></td>
                                                                </tr>
                                                                <tr>
                                                                    <td>Assets's</td>
                                                                    <td>Assets's</td>
                                                                </tr>
                                                            </table>

                                                        </div>
                                                    </td>

                                                    <td style="width:33%;padding:10px;">
                                                        <h3>Total <small>Laptops</small></h3>
                                                        <a asp-controller="MasterProduct" asp-action="IndexDetailMasterProductChild" asp-route-MasterSubCategoryId="1">
                                                            <div style="background-color:#d1edaf;border-radius:3px;padding:20px;position: relative;">
                                                                <i class="fa fa-laptop" style="font-size:100px;color: #fff;opacity:0.4;position: absolute; top: 10px;left: -20px;"></i>
                                                                <table style="text-align:center;width:100%;">
                                                                    <tr>
                                                                        <td>Total</td>
                                                                        <td>Assign</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><h6>@Model.TotalLaptopInStock</h6></td>
                                                                        <td><h6>@Model.LaptopAssign</h6></td>
                                                                    </tr>

                                                                    <tr>
                                                                        <td>Laptop's</td>
                                                                        <td>Laptop's</td>
                                                                    </tr>
                                                                </table>
                                                            </div>
                                                        </a>
                                                    </td>

                                                    <td style="width:33%;padding:10px;">
                                                        <h3>Total <small>Microsoft Licence</small></h3>
                                                        <a asp-controller="MasterProduct" asp-action="IndexDetailMasterProductChild" asp-route-MasterBrandId="13">

                                                            <div style="background-color:#fff1a6;border-radius:3px;padding:20px;position: relative;">
                                                                <i class="fa fa-windows" style="font-size:100px;color: #fff;opacity:0.5;position: absolute; top: 10px;left:-20px;"></i>
                                                                <table style="text-align:center;width:100%;">
                                                                    <tr>
                                                                        <td>Total</td>
                                                                        <td>Assign</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><h6>@Model.MicrosoftInStock</h6></td>
                                                                        <td><h6>@Model.MicrosoftAssign</h6></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Licence's</td>
                                                                        <td>Licence's</td>
                                                                    </tr>
                                                                </table>
                                                            </div>
                                                        </a>
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td style="width:25%;">
                                            <fieldset class="smart-form">
                                                <section class="col-sm-12">
                                                    <label class="input">
                                                        <i class="icon-append fa fa-search"></i>
                                                        <input type="text" id="txtSearchRequest" name="SearchRequest" onkeyup="SearchRequestFunction()" maxlength="40" placeholder="Search Assets by Category">
                                                        <b class="tooltip tooltip-top-right">Search Assets </b>
                                                    </label>
                                                    <br />
                                                    <a href="~/MasterProduct/Index" class="col-xs-12" title="Request"><i class="fa fa-list"></i><span class=""> View Assets</span></a>
                                                    <br />
                                                    <a href="~/MasterProduct/AddMasterProduct" class="col-xs-12" title="Request"><i class="fa fa-plus"></i><span class=""> AddNew Assets</span></a>
                                                    <br />
                                                    <a href="~/MasterCategory/AddMasterCategory" class="col-xs-12" title="Request"><i class="fa fa-plus"></i><span class=""> Add Assets Category</span></a>
                                                    <br />
                                                    <a href="~/MasterSubCategory/AddMasterSubCategory" class="col-xs-12" title="Request"><i class="fa fa-plus"></i><span class=""> Add Assets SubCategory</span></a>
                                                    <br />
                                                    <a href="~/MasterBrand/AddMasterBrand" class="col-xs-12" title="Request"><i class="fa fa-plus"></i><span class=""> Add Brand</span></a>
                                                </section>
                                            </fieldset>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- end widget div -->
                    </div>
                    <!-- end widget -->
                </article>
                <!-- WIDGET END -->

            </div>
            <!-- end row -->
            <!-- row -->
            <div class="row">
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget jarviswidget-color-blueDark">
                        <!-- widget div  style="background-image: -moz-linear-gradient(top,#e6e8ea 0,#b3afaf 100%)!important;"-->
                        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                            <table id="TableRequest" class="table table-striped table-bordered">
                                <tbody>
                                    <tr>
                                        <td class="col-4" style="        background-color:#fff1a6;" colspan="2"> <h5><i class="fa fa-shopping-cart"></i> Assets Detail </h5></td>
                                        <td class="col-8" style="text-align:center;background-color:#fff1a6;">
                                            <table class="col-12" style="text-align:center;width:100%;">
                                                <tr style="padding-top:10px;">
                                                    <td class="col-6" style="background-color:#fff1a6;padding-top:10px;font-weight:bold;">TOTAL ASSETS VALUE</td>
                                                    <td class="col-6" style="background-color:#fff1a6;padding-top:10px;font-weight:bold;">DEPRECIATED VALUE</td>
                                                </tr>
                                                <tr>
                                                    <td class="col-6" style="background-color:#fff1a6;"><h6><i class="fa fa-rupee"></i> @Model.AssetsSubCategoryList.Sum(a => a.TotalAssetsCost) </h6></td>
                                                    <td class="col-6" style="background-color:#fff1a6;"><h6><i class="fa fa-rupee"></i> @Model.AssetsSubCategoryList.Sum(a => a.TotalAssetsDepreciatedValue) </h6></td>
                                                </tr>

                                            </table>
                                        </td>
                                    </tr>
                                    <tr>

                                        <table id="dt_basic" class="table table-hover" width="100%">
                                            <thead>
                                                <tr>
                                                    <th data-class="expand" style="width:20%"><i class="fa fa-fw fa-user text-muted hidden-md hidden-sm hidden-xs"></i> Category</th>
                                                    <th data-hide="phone" style="width:20%"><i class="fa fa-fw fa-user text-muted hidden-md hidden-sm hidden-xs"></i> Sub Category</th>
                                                    <th data-hide="phone,tablet" style="width:10%;text-align: center;"><i class="fa fa-fw fa-user txt-color-blue hidden-md hidden-sm hidden-xs"></i> Cost</th>
                                                    <th data-hide="phone,tablet" style="width:10%;text-align: center;"><i class="fa fa-fw fa-user txt-color-blue hidden-md hidden-sm hidden-xs"></i> Depriciated</th>
                                                    <th data-hide="phone,tablet" style="width:10%;text-align: center;"><i class="fa fa-fw fa-user txt-color-blue hidden-md hidden-sm hidden-xs"></i> In-Stock</th>
                                                    <th data-hide="phone,tablet" style="width:10%;text-align: center;"><i class="fa fa-fw fa-user txt-color-blue hidden-md hidden-sm hidden-xs"></i> Assign</th>
                                                    <th data-hide="phone,tablet" style="width:10%;text-align: center;"><i class="fa fa-fw fa-user txt-color-blue hidden-md hidden-sm hidden-xs"></i> Repair</th>
                                                    @*<th data-hide="phone,tablet" style="width:10%;"><i class="fa fa-fw fa-user txt-color-blue hidden-md hidden-sm hidden-xs"></i> Dead</th>*@

                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var Item in Model.AssetsSubCategoryList)
                                                {
                                                    <tr>
                                                        <td>@Item.CategoryTitle</td>
                                                        <td>@Item.SubCategoryTitle</td>
                                                        <td style="text-align: right;">@Item.TotalAssetsCost</td>
                                                        <td style="text-align: right;">@Item.TotalAssetsDepreciatedValue</td>
                                                        <td style="text-align: center;">@Item.TotalAssetsInStock</td>
                                                        <td style="text-align: center;">@Item.AssetsAssign</td>
                                                        <td style="text-align: center;">@Item.AssetsInRepair</td>
                                                    </tr>
                                                }
                                            </tbody>
                                        </table>

                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- end widget div -->
                    </div>
                    <!-- end widget -->
                </article>
                <!-- WIDGET END -->

            </div>
            <!-- end row -->
            <!-- row -->
            <div class="row">
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget jarviswidget-color-blueDark">
                        <!-- widget div  style="background-image: -moz-linear-gradient(top,#e6e8ea 0,#b3afaf 100%)!important;"-->
                        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                            <table id="TableRequest" class="table table-striped table-bordered">
                                <tbody>
                                    <tr>
                                        <td style="background-color:#c7e4ef;"> <h5><i class="fa fa-flask"></i> Categorywise Assets Detail </h5></td>
                                    </tr>
                                    <tr>
                                        <td style="width:100%;">


                                            @foreach (var _item in Model.AssetsCategoryList.OrderBy(a=>a.CategoryTitle))
                                            {
                                            <div class="col-lg-6">
                                                <h3>Total <small>@_item.CategoryTitle</small></h3>
                                                <a asp-controller="MasterProduct" asp-action="IndexDetailMasterProductChild" asp-route-MasterCategoryId="@_item.MasterCategoryId">


                                                    <div style="background-color:@_item.CategoryColour;border-radius:3px;padding:20px;position: relative;">
                                                        <i class="@_item.CategoryIcon" style="font-size:100px;color: #fff;opacity:0.5;position: absolute; top: 10px;left:-20px;"></i>
                                                        <table style="text-align:center;width:100%;">
                                                            <tr>
                                                                <td>Total</td>
                                                                <td>Assign</td>

                                                                @if (_item.MasterCategoryType == 1)
                                                                {
                                                                    <td>Repair</td>
                                                                }
                                                                else
                                                                {
                                                                    <td>Expire</td>
                                                                }
                                                                <td>Cost</td>
                                                                <td>D. Value</td>
                                                            </tr>
                                                            <tr>
                                                                <td><h6>@_item.TotalAssetsInStock</h6></td>
                                                                <td><h6>@_item.AssetsAssign</h6></td>
                                                                @if (_item.MasterCategoryType == 1)
                                                                {
                                                                    <td><h6>@_item.AssetsInRepair</h6></td>
                                                                }
                                                                else
                                                                {
                                                                    <td><h6>@_item.ServiceInExpire</h6></td>
                                                                }
                                                                <td><h6><i class="fa fa-rupee"></i> @_item.TotalAssetsCost</h6></td>
                                                                <td><h6><i class="fa fa-rupee"></i> @_item.TotalAssetsDepreciatedValue</h6></td>
                                                            </tr>

                                                        </table>
                                                    </div>
                                                </a>
                                            </div>
                                            }
                                        </td>
                                        
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- end widget div -->
                    </div>
                    <!-- end widget -->
                </article>
                <!-- WIDGET END -->

            </div>
            <!-- end row -->

        </section>
        <!-- end widget grid -->
    </form>
</div>

@section Scripts {

    <script type="text/javascript">




        window.onload = function () {            

            startTime();
        }

        function startTime() {
            var today = new Date();
            var h = today.getHours();
            var m = today.getMinutes();
            var s = today.getSeconds();
            m = checkTime(m);
            s = checkTime(s);
            document.getElementById('ClockDiv').innerHTML = h + ":" + m + ":" + s;
            var t = setTimeout(startTime, 500);
        }

        function checkTime(i) {
            if (i < 10) { i = "0" + i };  // add zero in front of numbers < 10
            return i;
        }

    </script>
    <script src="~/js/Views/MasterCategory/Index.js"></script>
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}

